<?xml version="1.0" encoding="UTF-8"?>
<!--
    This document describes communication flow among systems.
    Content of the communication is described in APIary API draft.
-->


<component>
        
    <resource name="CPAction">
            <action name="POST">
                <source>
                    <name>orchestr</name>
                </source>    
                <target>
                    <name>rudolf</name>
                </target>
                <target>
                    <name>ticketing</name>
                </target>
                <target>
                    <name>web</name>
                    <needsIdOf>ticketing</needsIdOf>
                </target>
            </action>

            <action name="PUT">
                <source>
                    <name>orchestr</name>
                </source>
                <target>
                    <name>rudolf</name>
                </target>
                <target>
                    <name>ticketing</name>
                </target>
                <target>
                    <name>web</name>
                </target>
            </action>
    </resource>
    
        <resource name="Item">
            <action name="POST">
                <source>
                    <name>rudolf</name>
                </source>
                <target>
                    <name>mailer</name>
                </target>
                <target>
                    <name>teplo</name>
                </target>
            </action>

            <action name="PUT">
                <source>
                    <name>rudolf</name>
                </source>
                <target>
                    <name>mailer</name>
                </target>
                <target>
                    <name>teplo</name>
                </target>
            </action>

            <action name="DELETE">
                <source>
                    <name>rudolf</name>
                </source>
                <target>
                    <name>mailer</name>
                </target>
                <target>
                    <name>teplo</name>
                </target>
            </action>        
    </resource>
    
    
    
</component>
